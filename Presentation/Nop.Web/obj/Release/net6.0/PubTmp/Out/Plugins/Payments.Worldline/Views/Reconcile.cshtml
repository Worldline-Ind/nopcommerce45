
@{
    ViewBag.Title = "Reconcile";
    Layout = "_ConfigurePlugin";
}


<html>
<head>
    <link href="~/lib/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <title>Reconciliation</title>

    <style>

        table, td, th {
            border: 1px solid black;
        }

        table {
            border-collapse: collapse;
        }
    </style>

</head>



<body>
    @{
        @*@ViewBag.tokens[0]
            @ViewBag.tokens[1]["merchantRefNo"]*@
    }



    @*<form action="/nopcommWorldline/payment/reconcile" accept-charset="UTF-8" method="post">*@
    <form asp-controller="Worldline" asp-action="Reconcile" class="form-group" accept-charset="UTF-8" method="post">
        <div class="content-header clearfix">
            <h1 class="pull-left">
                Reconciliation
            </h1>
        </div>
        <input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="w5+3l1YcvCGSwSPgrMwVnuSszI3xf1v0Aw40AtOs6UcRXWVcvGJpthqZIMYYKGJTXgcMJb/Qmp12PJz8/tajSg==" />
        <div class="content">
            <div class="form-horizontal">

                <div class="panel-group">
                    <div class="panel panel-default panel-search">
                        <div class="panel-body">

                            <div class="search-body">
                                <div class="row">
                                    <div class="col-md-5">
                                        @*<div class="form-group">
                                                            <div class="col-md-4">
                                                                <label for="Merchant_Ref_No">Merchant Ref No: </label>
                                                            </div>
                                                            <div class="col-md-8">
                                                                <textarea name="merchantRefNo" id="merchantRefNo" placeholder="Enter comma separated merchantRefNo" required="required">
                </textarea>
                                                            </div>
                                                        </div>*@
                                        <div class="form-group">
                                            <div class="col-md-4">
                                                <label for="Date">From Date: </label>
                                            </div>
                                            <div class="col-md-4">
                                                <input type="date" name="fromDate" id="fromDate" value="" required="required" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-5">
                                        <div class="form-group">
                                            <div class="col-md-4">
                                                <label for="Date">To Date: </label>
                                            </div>
                                            <div class="col-md-8">
                                                <input type="date" name="endDate" id="endDate" value="" required="required" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-5 col-md-offset-1">
                                        <input type="submit" class="btn btn-primary" name="commit" value="Submit" data-disable-with="submit" />
                                    </div>
                                </div>

                                @{
                                    if (ViewBag.transDetails != null)
                                    {

                                        foreach (var item in ViewBag.transDetails)
                                        {
                                            <hr>
                                            <div>
                                                <table>
                                                    <tr>
                                                        <td>Status Code</td>
                                                        <td>@item[6]["paymentTransaction"]["statusCode"].ToString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Merchant Transaction Reference No</td>
                                                        <td>@item[1].ToString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Worldline Merchant Transaction ID</td>
                                                        <td>@item[6]["paymentTransaction"]["identifier"].ToString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Amount</td>
                                                        <td>@item[6]["paymentTransaction"]["amount"].ToString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Message</td>
                                                        <td>@item[6]["paymentTransaction"]["errorMessage"].ToString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Status Message</td>
                                                        <td>@item[6]["paymentTransaction"]["statusMessage"].ToString()</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Date Time</td>
                                                        <td>@item[6]["paymentTransaction"]["dateTime"].ToString()</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        }
                                        @*foreach (var item in ViewBag.transDetails)
                {
                    <hr/>
                    <div class="content">
                        <table>
                            <tr>
                                <td>Status Code</td>
                                <td>@item[6]["paymentTransaction"]["statusCode"].ToString()</td>
                            </tr>
                            <tr>
                                <td>Merchant Transaction Reference No</td>
                                <td>@item[1].ToString()</td>
                            </tr>
                            <tr>
                                <td>Worldline Merchant Transaction ID</td>
                                <td>@item[6]["paymentTransaction"]["identifier"].ToString()</td>
                            </tr>
                            <tr>
                                <td>Amount</td>
                                <td>@item[6]["paymentTransaction"]["amount"].ToString()</td>
                            </tr>
                            <tr>
                                <td>Message</td>
                                <td>@item[6]["paymentTransaction"]["errorMessage"].ToString()</td>
                            </tr>
                            <tr>
                                <td>Status Message</td>
                                <td>@item[6]["paymentTransaction"]["statusMessage"].ToString()</td>
                            </tr>
                            <tr>
                                <td>Date Time</td>
                                <td>@item[6]["paymentTransaction"]["dateTime"].ToString()</td>
                            </tr>
                        </table>
                    </div>
                }*@
                                    }

                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <br><br>


    <form action="/nopcommWorldline/payment/reconcile" accept-charset="UTF-8" method="post">
        <input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="js1ZCkarLBN5LcWhqQrf5pJJjv19fkYdKH3pxQDX3TRcD4vBrNX5hPF1xocd7qgrKOJOVTPRh3RdT0E7La2XOQ==" />
    </form>
   

            </body>

</html>
